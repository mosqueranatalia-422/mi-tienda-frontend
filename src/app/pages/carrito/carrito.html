<section class="carrito-container">

  <h2 class="titulo-carrito">ðŸ›’ Mi carrito</h2>

  <!-- Carrito vacÃ­o -->
  <div *ngIf="productos.length === 0" class="empty-cart-container">

    <p class="text-content">
      Tu carrito estÃ¡ vacÃ­o<br>
      agrega productos para continuar
    </p>

    <div class="cart-icon-box">
      <svg class="cart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
        <path d="M0 24C0 10.7 10.7 0 24 0H96c10.1 0 18.8 
        6.3 22.1 15.6L117.2 32H552c14.3 0 24.6 14.3 19.9 
        27.9l-72 200C496 276.4 482.7 288 467.2 
        288H200.4l5.5 32H488c13.3 0 24 10.7 24 
        24s-10.7 24-24 24H176c-11.2 0-20.8-7.9-23-18.9L93.2 
        54.5 88 32H24C10.7 32 0 21.3 0 8zM160 
        464a48 48 0 1 1 96 0 48 48 0 1 1 -96 
        0zm288 0a48 48 0 1 1 96 0 48 48 0 1 1 -96 0z"/>
      </svg>
    </div>

    <button class="btn-primary" (click)="irAProductos()">
      Ver productos
    </button>

  </div>

  <!-- Carrito con productos -->
  <div *ngIf="productos.length > 0" class="carrito-grid">

    <div class="col-titulo">Producto</div>
    <div class="col-titulo center">Precio</div>
    <div class="col-titulo center">Cantidad</div>
    <div class="col-titulo center">Subtotal</div>

    <div class="carrito-item" *ngFor="let p of productos">

      <div class="producto-info">
        <img [src]="p.imagen" class="producto-img">

        <div>
          <p class="producto-nombre">{{ p.nombre }}</p>

          <button class="btn-eliminar"
                  (click)="eliminarProducto(p)">
            Eliminar
          </button>
        </div>
      </div>

      <p class="precio">
        ${{ p.precio | number }}
      </p>

      <div class="cantidad-box">
        <button (click)="disminuirCantidad(p)">âˆ’</button>
        <span>{{ p.cantidad }}</span>
        <button (click)="aumentarCantidad(p)">+</button>
      </div>

      <p class="subtotal">
        ${{ (p.precio * p.cantidad) | number }}
      </p>

    </div>

  </div>

  <!-- Resumen -->
  <div *ngIf="productos.length > 0" class="resumen">

    <h3 class="subtotal-texto">
      SUBTOTAL: ${{ total | number }}
    </h3>

    <p class="nota">
      Impuestos y envÃ­o se calculan en el pago.
    </p>

    <!-- CONTENEDOR FLEX DE BOTONES -->
    <div class="botones-carrito">
  
      <button class="btn-pagar">
        PAGAR
      </button>

      <button class="btn-vaciar" (click)="vaciarCarrito()">
        Vaciar carrito
      </button>
    </div>

  </div>

</section>
